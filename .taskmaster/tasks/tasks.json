{
  "master": {
    "tasks": [
      {
        "id": 1,
        "title": "Fix Task Master MCP Server Configuration for Windows",
        "description": "Update MCP server configuration to use Windows cmd /c wrapper pattern for proper execution and resolve punycode deprecation warnings",
        "details": "Update .mcp.json to use Windows-specific command wrapper pattern. Change the command from 'npx' to 'cmd' with args ['/c', 'npx', ...]. This ensures proper execution on Windows systems. Also investigate and document any punycode deprecation warnings that appear during startup. Update CLAUDE.md with Windows-specific MCP configuration requirements. Test the MCP server connection after changes to ensure proper communication between Claude Code and Task Master.",
        "testStrategy": "Start Claude Code with --mcp-debug flag to verify MCP server starts without errors. Test basic MCP commands like help, get_tasks, and next_task. Verify no configuration warnings appear in console output. Document any remaining deprecation warnings and their impact.",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 2,
        "title": "Optimize Task Master CLI Configuration",
        "description": "Complete Task Master CLI configuration optimization to resolve all warnings and ensure proper model setup",
        "details": "Review current Task Master config.json and identify any missing or misconfigured settings. Ensure all AI model configurations are properly set with valid provider/modelId pairs. Configure proper API key environment variables in .env file. Set appropriate maxTokens, temperature values for each model role (main, research, fallback). Update global settings including projectName, defaultNumTasks, and responseLanguage. Create validation script to check configuration completeness.",
        "testStrategy": "Run 'task-master models' to verify configuration. Execute 'task-master --version' without warnings. Test model access with 'task-master add-task --prompt=\"test task\" --research'. Verify no configuration warnings appear during any Task Master operations.",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 3,
        "title": "Validate Docker Infrastructure Health",
        "description": "Verify Docker container health status and inter-service connectivity for bmad-cc-dev, postgres, and redis containers",
        "details": "Check Docker container status using 'docker ps' and 'docker-compose ps'. Verify all three containers (bmad-cc-dev, postgres, redis) are running and healthy. Test postgres connectivity on port 5433 with connection string postgres://bmad:bmad_dev_pass@localhost:5433/bmad_cc. Test redis connectivity on port 6380 using redis-cli. Verify network connectivity between containers using 'docker network inspect bmad-cc-network'. Create health check script that validates all services are operational.",
        "testStrategy": "Execute docker health checks: 'docker exec bmad-cc-dev task-master --version', 'docker exec bmad-cc-postgres pg_isready -U bmad', 'docker exec bmad-cc-redis redis-cli ping'. Verify all return successful status. Test inter-container connectivity from bmad-cc-dev to postgres and redis.",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 4,
        "title": "Implement PowerShell Execution Policy Management",
        "description": "Ensure PowerShell scripts execute with proper security policies across the BMAD framework",
        "details": "Review all PowerShell scripts in .claude/hooks/ directory. Ensure all scripts use '-ExecutionPolicy Bypass' flag when invoked. Update hook configurations in settings.local.json to include proper execution policy. Create wrapper scripts if needed for consistent execution. Document PowerShell security requirements in framework documentation. Test scripts work on systems with restricted execution policies.",
        "testStrategy": "Test hook execution on system with restricted policy (Set-ExecutionPolicy Restricted). Verify hooks still execute properly with Bypass flag. Test on-posttooluse.ps1 and gate-enforcer.ps1 scripts. Ensure no security policy errors occur during normal operations.",
        "priority": "medium",
        "dependencies": [
          1
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 5,
        "title": "Configure Task Master Database Connections",
        "description": "Establish and validate Task Master connections to postgres and redis services",
        "details": "Configure Task Master to use postgres for persistent storage. Set DATABASE_URL environment variable to postgres://bmad:bmad_dev_pass@localhost:5433/bmad_cc. Configure redis connection for caching with REDIS_URL=redis://localhost:6380. Update Task Master config to use these connections. Create database schema if needed. Test data persistence across Task Master restarts. Document connection strings and configuration in operational runbook.",
        "testStrategy": "Create test task and verify it persists in postgres. Restart Task Master and confirm task still exists. Monitor redis cache hits during task operations. Test failover behavior if database becomes unavailable.",
        "priority": "high",
        "dependencies": [
          2,
          3
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 6,
        "title": "Implement Atomic Task Breakdown Workflows",
        "description": "Configure and test PRD parsing with atomic task breakdown following the 1-3 hour rule",
        "details": "Create sample PRD document in .taskmaster/docs/. Test 'task-master parse-prd' command with the sample. Verify tasks are created with proper hierarchy. Implement task expansion workflow using 'task-master expand --id=X --num=Y'. Ensure each expanded subtask represents 1-3 hours of work. Create automation script for systematic task breakdown. Document the atomic breakdown process and best practices.",
        "testStrategy": "Parse test PRD and verify 10+ main tasks created. Expand complex tasks and verify subtasks are atomic (1-3 hours). Test 'task-master list --with-subtasks' shows proper hierarchy. Verify 'task-master analyze-complexity' provides accurate estimates.",
        "priority": "high",
        "dependencies": [
          1,
          2
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 7,
        "title": "Create Infrastructure Health Monitoring Scripts",
        "description": "Develop comprehensive health check and monitoring scripts for all infrastructure components",
        "details": "Create PowerShell script for Windows health checks at scripts/health-check.ps1. Script should check: Docker container status, postgres connectivity and query execution, redis connectivity and operations, Task Master CLI availability, MCP server responsiveness. Implement logging and alerting for failures. Create scheduled task or cron job for regular health checks. Output results in both human-readable and JSON formats.",
        "testStrategy": "Run health check script and verify all components report healthy. Simulate failure scenarios (stop container, block port) and verify detection. Test JSON output can be parsed by monitoring tools. Verify script exits with proper error codes.",
        "priority": "medium",
        "dependencies": [
          3,
          5
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 8,
        "title": "Implement Git Integration with Task References",
        "description": "Configure git workflows to properly reference Task Master task IDs in commits and pull requests",
        "details": "Create git commit template that includes task ID format. Configure git hooks to validate task ID presence in commit messages. Implement commit message format: 'type: description (task X.Y)'. Create helper scripts for task-aware commits. Update git-agent.md to enforce task references. Test integration with GitHub pull requests. Document git workflow with task tracking.",
        "testStrategy": "Make test commit with task reference and verify format. Test git hook validates missing task IDs. Verify 'git log' shows task IDs clearly. Test GitHub PR creation includes task information.",
        "priority": "medium",
        "dependencies": [
          6
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 9,
        "title": "Create Framework Integration Validation Suite",
        "description": "Develop comprehensive test suite to validate complete BMAD framework integration with Task Master",
        "details": "Create test suite in scripts/validate-integration.ps1. Test all BMAD agents are accessible and functional. Verify slash commands work correctly (/bmad:story-cycle, /bmad:saas-cycle). Test hooks execute properly on tool use. Validate Task Master commands work through MCP. Test Docker integration and service connectivity. Verify quality gates enforcement. Create test report with pass/fail status for each component.",
        "testStrategy": "Run full validation suite and verify 100% pass rate. Test in fresh environment to ensure reproducibility. Verify suite catches intentional failures. Generate HTML report of test results.",
        "priority": "medium",
        "dependencies": [
          4,
          5,
          6,
          7,
          8
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 10,
        "title": "Document Operational Procedures and Runbook",
        "description": "Create comprehensive documentation for infrastructure management and operational procedures",
        "details": "Create docs/OPERATIONS.md with complete runbook. Document startup procedures for all services. Include troubleshooting guide for common issues. Document backup and recovery procedures for Task Master data. Create quick reference for all Task Master commands. Include Windows-specific requirements and gotchas. Document health check procedures and monitoring setup. Create incident response playbook. Include architecture diagrams and data flow documentation.",
        "testStrategy": "Follow runbook procedures on fresh system and verify completeness. Test troubleshooting steps resolve documented issues. Verify backup/restore procedures work correctly. Have team member review documentation for clarity.",
        "priority": "low",
        "dependencies": [
          7,
          9
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 11,
        "title": "Convert PowerShell Scripts to Bash/Shell Scripts",
        "description": "Convert all PowerShell scripts (.ps1) to bash-compatible shell scripts (.sh) for WSL/Linux compatibility. This includes both the running project files and template files.",
        "details": "## Scope\nConvert 23 PowerShell files + 9 PowerShell templates to bash:\n\n### Hook Scripts (12 files)\n- change-detector.ps1 → change-detector.sh\n- docker-manager.ps1 → docker-manager.sh\n- documentation-updater.ps1 → documentation-updater.sh\n- gate-enforcer.ps1 → gate-enforcer.sh (already exists, needs review)\n- github-backup.ps1 → github-backup.sh\n- lesson-extraction-gate.ps1 → lesson-extraction-gate.sh\n- on-posttooluse.ps1 → on-posttooluse.sh\n- quality-gate-no-dummies.ps1 → quality-gate-no-dummies.sh\n- taskmaster-check.ps1 → taskmaster-check.sh\n- validation-enforcer.ps1 → validation-enforcer.sh\n\n### Installation/Setup Scripts (11 files)\n- bootstrap.ps1 → bootstrap.sh\n- install-self.ps1 → install-self.sh\n- simple-install.ps1 → simple-install.sh\n- apply-enhancements.ps1 → apply-enhancements.sh\n- docker-dev.ps1 → docker-dev.sh (already exists, needs sync)\n- scripts/setup.ps1 → scripts/setup.sh\n- scripts/update-bmad.ps1 → scripts/update-bmad.sh\n- scripts/deploy-to-projects.ps1 → scripts/deploy-to-projects.sh\n- scripts/update-framework.ps1 → scripts/update-framework.sh\n- scripts/simple-update.ps1 → scripts/simple-update.sh\n- scripts/check-updates.ps1 → scripts/check-updates.sh\n- scripts/lessons/search-lessons.ps1 → scripts/lessons/search-lessons.sh\n\n### Template Files (9 templates)\nConvert all .ps1.tmpl files to .sh.tmpl in templates/ directory\n\n## Conversion Requirements\n- Maintain cross-platform compatibility where possible\n- Use POSIX-compliant shell syntax\n- Convert PowerShell cmdlets to bash equivalents\n- Handle file paths for both Windows (WSL) and Linux\n- Preserve all functionality and error handling\n- Update all references in documentation and commands",
        "testStrategy": "Test each converted script:\n1. Syntax validation with shellcheck\n2. Run script in WSL environment\n3. Verify same functionality as PowerShell version\n4. Test error handling and edge cases\n5. Validate template variable substitution works correctly",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 12,
        "title": "Fix Incorrect \"Phaser\" Project Type References",
        "description": "Remove all incorrect \"Phaser\" references from BMAD-CC framework. Fix the auto-detection logic that incorrectly identifies projects as game development (\"phaser\") projects, and update all affected files to properly recognize BMAD-CC as a framework/methodology.",
        "details": "## Root Cause\nbootstrap.ps1 line 30 incorrectly auto-detects any project with package.json as \"phaser\" (game project):\n```powershell\nelseif ((Test-Path \"$ProjectDir/src/client\") -or (Test-Path \"$ProjectDir/package.json\")) { $ProjectType = \"phaser\" }\n```\n\n## Impact Analysis\n- **51 files contain \"Phaser\" references** that need correction\n- All 10 agent files think they're working on a game project\n- Commands reference \"BMAD-CC (Phaser)\" incorrectly\n- Templates have {{#if PROJECT_TYPE.phaser}} blocks with game-specific logic\n- docker-compose.phaser.yml.tmpl exists for game projects\n\n## Required Changes\n\n### 1. Fix Auto-Detection Logic\n- Update bootstrap.ps1/bootstrap.sh to properly detect project types\n- Remove incorrect phaser detection based on package.json\n- Add proper framework detection for BMAD-CC itself\n\n### 2. Update Agent Descriptions (10 files)\nReplace in all .claude/agents/*.md files:\n- \"BMAD-CC (Phaser)\" → \"BMAD-CC\"\n- Remove phaser-specific workflow sections\n\n### 3. Update Templates\nIn templates/.claude/agents/*.md.tmpl:\n- Keep {{PROJECT_NAME}} and {{PROJECT_TYPE}} placeholders\n- Remove or update phaser-specific conditional blocks\n- Ensure framework projects get proper type\n\n### 4. Fix Commands\nUpdate all .claude/commands/bmad/*.md files:\n- Remove \"Phaser\" references\n- Update project context sections\n\n### 5. Documentation Updates\n- Update README.md, INSTALLATION.md, architecture-specification.md\n- Remove game-specific references\n- Clarify BMAD-CC is a framework/methodology\n\n### 6. Template Cleanup\n- Review docker-compose.phaser.yml.tmpl usage\n- Update technical-preferences.md references\n- Fix any remaining phaser conditionals\n\n## Expected Outcome\n- BMAD-CC properly recognized as a framework/methodology\n- Project type detection works correctly for actual game projects\n- No confusion about project context in agents/commands\n- Templates work correctly for all project types",
        "testStrategy": "1. Test bootstrap script project type detection with various project structures\n2. Verify all agents load without phaser references\n3. Validate template substitution with different project types\n4. Check that game projects still work if PROJECT_TYPE explicitly set to \"phaser\"\n5. Ensure BMAD-CC framework itself never gets phaser type",
        "status": "done",
        "dependencies": [
          11
        ],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 13,
        "title": "Fix smart-cycle workflow compliance by adding execution authorization validation",
        "description": "Update smart-cycle.md with proven execution authorization patterns from maintenance-cycle.md to prevent compliance violations and ensure proper workflow handoff procedures",
        "details": "CONTEXT: We had a compliance failure where smart-cycle allowed direct execution bypassing proper workflow handoffs. SOLUTION: Add mandatory execution authorization validation to smart-cycle.md (lines 20-80 from maintenance-cycle.md). Apply established Task tool trigger patterns. Ensure proper workflow handoff procedures. SCOPE: Small maintenance fix to prevent future compliance violations by applying already-proven compliance patterns.",
        "testStrategy": "Verify smart-cycle.md includes execution authorization validation. Test that unauthorized access is properly blocked. Confirm Task Master integration follows established patterns. Validate proper error messages guide users to correct usage.",
        "priority": "high",
        "dependencies": [],
        "status": "execution-authorized",
        "subtasks": []
      }
    ],
    "metadata": {
      "created": "2025-08-11T01:33:05.552Z",
      "updated": "2025-08-16T18:45:00.000Z",
      "description": "Tasks for master context"
    }
  }
}